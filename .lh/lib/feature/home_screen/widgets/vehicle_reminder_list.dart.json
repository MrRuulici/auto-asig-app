{
    "sourceFile": "lib/feature/home_screen/widgets/vehicle_reminder_list.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1730554061051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1730554172289,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n import 'package:flutter_bloc/flutter_bloc.dart';\r\n import 'package:intl/intl.dart';\r\n \r\n class VehicleReminderList extends StatelessWidget {\r\n-  const VehicleReminderList({Key? key}) : super(key: key);\r\n+  const VehicleReminderList({super.key});\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return BlocBuilder<ReminderCubit, ReminderState>(\r\n"
                },
                {
                    "date": 1730554245633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,10 +64,10 @@\n     required this.reminderTitle,\r\n     required this.expirationDate,\r\n     required this.daysLeft,\r\n     required this.time,\r\n-    Key? key,\r\n-  }) : super(key: key);\r\n+    super.key,\r\n+  });\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return ListTile(\r\n"
                },
                {
                    "date": 1730554269684,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n     return ListTile(\r\n       leading: Icon(Icons.car_rental,\r\n           color: daysLeft <= 0 ? Colors.red : Colors.green),\r\n       title: Text(reminderTitle),\r\n-      subtitle: Text('Expires on: $expirationDate at $time'),\r\n-      trailing: Text(daysLeft > 0 ? '$daysLeft days left' : 'Expired'),\r\n+      subtitle: Text('Expira in: $expirationDate'),\r\n+      trailing: Text(daysLeft > 0 ? '$daysLeft zile ramase' : 'Expirat'),\r\n     );\r\n   }\r\n }\r\n"
                },
                {
                    "date": 1730554304074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import 'package:auto_asig/feature/home_screen/cubit/reminder_cubit.dart';\r\n import 'package:auto_asig/feature/home_screen/cubit/reminder_state.dart';\r\n+import 'package:auto_asig/feature/home_screen/widgets/vehicle_reminder_item.dart';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_bloc/flutter_bloc.dart';\r\n import 'package:intl/intl.dart';\r\n \r\n@@ -53,29 +54,5 @@\n     );\r\n   }\r\n }\r\n \r\n-class VehicleReminderItem extends StatelessWidget {\r\n-  final String reminderTitle;\r\n-  final String expirationDate;\r\n-  final int daysLeft;\r\n-  final String time;\r\n \r\n-  const VehicleReminderItem({\r\n-    required this.reminderTitle,\r\n-    required this.expirationDate,\r\n-    required this.daysLeft,\r\n-    required this.time,\r\n-    super.key,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return ListTile(\r\n-      leading: Icon(Icons.car_rental,\r\n-          color: daysLeft <= 0 ? Colors.red : Colors.green),\r\n-      title: Text(reminderTitle),\r\n-      subtitle: Text('Expira in: $expirationDate'),\r\n-      trailing: Text(daysLeft > 0 ? '$daysLeft zile ramase' : 'Expirat'),\r\n-    );\r\n-  }\r\n-}\r\n"
                }
            ],
            "date": 1730554061051,
            "name": "Commit-0",
            "content": "import 'package:auto_asig/feature/home_screen/cubit/reminder_cubit.dart';\r\nimport 'package:auto_asig/feature/home_screen/cubit/reminder_state.dart';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:flutter_bloc/flutter_bloc.dart';\r\nimport 'package:intl/intl.dart';\r\n\r\nclass VehicleReminderList extends StatelessWidget {\r\n  const VehicleReminderList({Key? key}) : super(key: key);\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return BlocBuilder<ReminderCubit, ReminderState>(\r\n      builder: (context, state) {\r\n        if (state is ReminderLoading) {\r\n          return const Center(child: CircularProgressIndicator());\r\n        } else if (state is ReminderError) {\r\n          return Center(child: Text(state.message));\r\n        } else if (state is ReminderLoaded) {\r\n          final reminders = state.reminders;\r\n\r\n          if (reminders.isEmpty) {\r\n            return const Center(child: Text('No vehicle notifications.'));\r\n          }\r\n\r\n          // Sort the reminders by expiration date\r\n          reminders.sort((a, b) => a.expirationDate.compareTo(b.expirationDate));\r\n\r\n          return ListView.builder(\r\n            itemCount: reminders.length,\r\n            itemBuilder: (context, index) {\r\n              final reminder = reminders[index];\r\n\r\n              final DateFormat dateFormatter = DateFormat('dd.MM.yyyy');\r\n              final DateFormat timeFormatter = DateFormat('HH:mm');\r\n\r\n              final remainingTime =\r\n                  reminder.expirationDate.difference(DateTime.now()).inDays;\r\n              final days = remainingTime.abs();\r\n\r\n              return VehicleReminderItem(\r\n                reminderTitle: reminder.title,\r\n                expirationDate: dateFormatter.format(reminder.expirationDate),\r\n                daysLeft: days,\r\n                time: timeFormatter.format(reminder.expirationDate),\r\n              );\r\n            },\r\n          );\r\n        } else {\r\n          return const Center(child: Text('Unknown state.'));\r\n        }\r\n      },\r\n    );\r\n  }\r\n}\r\n\r\nclass VehicleReminderItem extends StatelessWidget {\r\n  final String reminderTitle;\r\n  final String expirationDate;\r\n  final int daysLeft;\r\n  final String time;\r\n\r\n  const VehicleReminderItem({\r\n    required this.reminderTitle,\r\n    required this.expirationDate,\r\n    required this.daysLeft,\r\n    required this.time,\r\n    Key? key,\r\n  }) : super(key: key);\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return ListTile(\r\n      leading: Icon(Icons.car_rental, color: daysLeft <= 0 ? Colors.red : Colors.green),\r\n      title: Text(reminderTitle),\r\n      subtitle: Text('Expires on: $expirationDate at $time'),\r\n      trailing: Text(daysLeft > 0 ? '$daysLeft days left' : 'Expired'),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}